{"remainingRequest":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/src/components/CartItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/src/components/CartItem.vue","mtime":1607793312907},{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGcmFtZWRBcnR3b3JrIGZyb20gIi4vRnJhbWVkQXJ0d29yayI7CmltcG9ydCBNdXNldW1MYWJlbCBmcm9tICIuL011c2V1bUxhYmVsIjsKaW1wb3J0IHtnZXRBcnR3b3JrfSBmcm9tICIuLi9zZXJ2aWNlcy9BcnRtYXJ0U2VydmljZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiQ2FydEl0ZW0iLAogICAgY29tcG9uZW50czogewogICAgICAgIE11c2V1bUxhYmVsLAogICAgICAgIEZyYW1lZEFydHdvcmsKICAgIH0sCiAgICBwcm9wczogewogICAgICAgIGNhcnRJdGVtOiB7CiAgICAgICAgICAgIGFydHdvcmtJZDogTnVtYmVyLAogICAgICAgICAgICBwcmljZTogTnVtYmVyLAogICAgICAgICAgICBwcmludFNpemU6IFN0cmluZywKICAgICAgICAgICAgZnJhbWVXaWR0aDogTnVtYmVyLAogICAgICAgICAgICBmcmFtZVN0eWxlOiBTdHJpbmcsCiAgICAgICAgICAgIG1hdFdpZHRoOiBOdW1iZXIsCiAgICAgICAgICAgIG1hdENvbG9yOiBTdHJpbmcsCiAgICAgICAgICAgIGNhcnRJdGVtSWQ6IE51bWJlcgogICAgICAgIH0KICAgIH0sCgogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBhcnR3b3JrOiBudWxsCiAgICAgICAgfTsKICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIGxvYWRGcmFtZURldGFpbHMoY2FydEl0ZW0pIHsKICAgICAgICAgICAgdmFyIG1hdFdpZHRoID0gY2FydEl0ZW0gLyAxMDsKICAgICAgICAgICAgdmFyIGFydHdvcmtTaXplc0FyciA9IHsiUyI6ICJTbWFsbCIsICJNIjogIk1lZGl1bSIsICJMIjogIkxhcmdlIn07CiAgICAgICAgICAgIHZhciBkZXRhaWxzID0gYCR7YXJ0d29ya1NpemVzQXJyW2NhcnRJdGVtLnByaW50U2l6ZV19IHByaW50IGluIGEgJHtjYXJ0SXRlbS5mcmFtZVdpZHRoIC8gMTB9IGNtICR7Y2FydEl0ZW0uZnJhbWVTdHlsZX0gZnJhbWVgCiAgICAgICAgICAgIGlmIChtYXRXaWR0aCAhPT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRldGFpbHMgKyBgIHdpdGggYSAke21hdFdpZHRofSBjbSAke2NhcnRJdGVtLm1hdENvbG9yfSBtYXRgOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGAke2RldGFpbHN9YDsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHJlbW92ZUl0ZW0oKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdyZW1vdmVGcm9tQ2FydCcsIHRoaXMuY2FydEl0ZW0uY2FydEl0ZW1JZCk7CiAgICAgICAgfQogICAgfSwKCiAgICBjcmVhdGVkKCkgewogICAgICAgIFByb21pc2UucmVzb2x2ZShnZXRBcnR3b3JrKHRoaXMuY2FydEl0ZW0uYXJ0d29ya0lkKSkudGhlbihhID0+IHRoaXMuYXJ0d29yayA9IGEpOwogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgY29uZmlnUm91dGUoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBwYXRoOiAiL2NvbmZpZy8iICsgdGhpcy5jYXJ0SXRlbS5hcnR3b3JrSWQsCiAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgIHByaW50U2l6ZTogdGhpcy5jYXJ0SXRlbS5wcmludFNpemUsCiAgICAgICAgICAgICAgICAgICAgZnJhbWVXaWR0aDogdGhpcy5jYXJ0SXRlbS5mcmFtZVdpZHRoLAogICAgICAgICAgICAgICAgICAgIGZyYW1lU3R5bGU6IHRoaXMuY2FydEl0ZW0uZnJhbWVTdHlsZSwKICAgICAgICAgICAgICAgICAgICBtYXRXaWR0aDogdGhpcy5jYXJ0SXRlbS5tYXRXaWR0aCwKICAgICAgICAgICAgICAgICAgICBtYXRDb2xvcjogdGhpcy5jYXJ0SXRlbS5tYXRDb2xvcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgIH0KICAgIH0KfTsK"},{"version":3,"sources":["CartItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CartItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"cart-item\" v-if=\"artwork\">\n\n        <router-link :to=\"configRoute\">\n            <div class=\"cart-preview\">\n                <framed-artwork v-bind:artwork=\"artwork\" v-bind:config=\"cartItem\"/>\n                <!-- TODO: establish proper bindinds -->\n            </div>\n        </router-link>\n\n        <!-- TODO: slot this into a museum label -->\n        <MuseumLabel :artwork=\"artwork\">\n            <div class=\"cart-frame-description\"> {{loadFrameDetails(this.cartItem)}}</div>\n            <div class=\"cart-price\">€ {{ (this.cartItem.price / 100).toFixed(2) }}</div>\n            <button class=\"cart-remove\" @click=\"removeItem\"></button>\n        </MuseumLabel>\n    </div>\n</template>\n\n<script>\n    import FramedArtwork from \"./FramedArtwork\";\n    import MuseumLabel from \"./MuseumLabel\";\n    import {getArtwork} from \"../services/ArtmartService\";\n\n    export default {\n        name: \"CartItem\",\n        components: {\n            MuseumLabel,\n            FramedArtwork\n        },\n        props: {\n            cartItem: {\n                artworkId: Number,\n                price: Number,\n                printSize: String,\n                frameWidth: Number,\n                frameStyle: String,\n                matWidth: Number,\n                matColor: String,\n                cartItemId: Number\n            }\n        },\n\n        data() {\n            return {\n                artwork: null\n            };\n        },\n\n        methods: {\n            loadFrameDetails(cartItem) {\n                var matWidth = cartItem / 10;\n                var artworkSizesArr = {\"S\": \"Small\", \"M\": \"Medium\", \"L\": \"Large\"};\n                var details = `${artworkSizesArr[cartItem.printSize]} print in a ${cartItem.frameWidth / 10} cm ${cartItem.frameStyle} frame`\n                if (matWidth !== 0) {\n                    return details + ` with a ${matWidth} cm ${cartItem.matColor} mat`;\n                } else {\n                    return `${details}`;\n                }\n            },\n\n            removeItem() {\n                this.$store.dispatch('removeFromCart', this.cartItem.cartItemId);\n            }\n        },\n\n        created() {\n            Promise.resolve(getArtwork(this.cartItem.artworkId)).then(a => this.artwork = a);\n        },\n        computed: {\n            configRoute() {\n                return {\n                    path: \"/config/\" + this.cartItem.artworkId,\n                    query: {\n                        printSize: this.cartItem.printSize,\n                        frameWidth: this.cartItem.frameWidth,\n                        frameStyle: this.cartItem.frameStyle,\n                        matWidth: this.cartItem.matWidth,\n                        matColor: this.cartItem.matColor\n                    }\n                };\n            }\n        }\n    };\n</script>\n\n<style scoped>\n    .cart {\n        display: flex;\n        flex-direction: column;\n        margin-bottom: 2rem;\n    }\n\n    .cart-item {\n        margin: 1rem;\n        margin-bottom: 2rem;\n\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .cart-preview {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        width: 250px;\n        height: 250px;\n        justify-content: center;\n        flex-shrink: 0;\n    }\n\n    .cart-preview img {\n        box-shadow: 0 7px 15px 0 rgba(0, 0, 0, 0.5);\n    }\n\n    .cart-item .museum-label {\n        font-size: 1rem;\n        margin-left: 2rem;\n        padding: 1em;\n        position: relative;\n        flex-grow: 1;\n        max-width: 500px;\n    }\n\n    .cart-frame-description {\n        margin-top: 1em;\n    }\n\n    .cart-price {\n        font-weight: bold;\n        text-align: right;\n        margin-top: 1rem;\n    }\n\n    .cart-remove {\n        width: 1.5em;\n        height: 1.5em;\n        padding: 0;\n        margin: 0;\n        border-radius: 50%;\n\n        position: absolute;\n        top: -0.75em;\n        right: -0.75em;\n\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .cart-remove::before {\n        content: \"✕\";\n        font-family: sans-serif;\n    }\n\n    @media (max-width: 600px) {\n        .cart-item {\n            flex-direction: column;\n        }\n\n        .cart-item .museum-label {\n            margin: 0;\n            margin-top: 1rem;\n        }\n    }\n</style>\n"]}]}