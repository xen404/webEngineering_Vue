{"remainingRequest":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/babel-loader/lib/index.js!/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/eslint-loader/index.js??ref--13-0!/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/src/store.js","dependencies":[{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/src/store.js","mtime":1607793312911},{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2thcnRvbi9Eb2N1bWVudHMvcHJvamVjdHMvQ1ZfR0lUSFVCL2E0LWdyb3VwLTYyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9rYXJ0b24vRG9jdW1lbnRzL3Byb2plY3RzL0NWX0dJVEhVQi9hNC1ncm91cC02Mi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBWdWV4IGZyb20gInZ1ZXgiOwppbXBvcnQgKiBhcyBBcnRtYXJ0U2VydmljZSBmcm9tICJAL3NlcnZpY2VzL0FydG1hcnRTZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGRTdG9yZSgpIHsKICByZXR1cm4gbmV3IFZ1ZXguU3RvcmUoewogICAgc3RhdGU6IHsKICAgICAgZnJhbWVzOiBudWxsLAogICAgICAvLyBNYXA6IHN0eWxlIC0+IGZyYW1lIHsgc3R5bGUsIGxhYmVsLCBzbGljZSwgY29zdCB9CiAgICAgIG1hdHM6IG51bGwsCiAgICAgIC8vIE1hcDogY29sb3IgLT4gbWF0IHsgY29sb3IsIGxhYmVsLCBoZXggfQogICAgICBkZXN0aW5hdGlvbnM6IG51bGwsCiAgICAgIC8vIE1hcDogY291bnRyeSAtPiBkZXN0aW5hdGlvbiB7IGNvdW50cnksIGRpc3BsYXlOYW1lLCBjb3N0IH0KICAgICAgY2FydDogW10gLy8gQXJyYXkgb2YgY2FydCBpdGVtcwoKICAgIH0sCiAgICBnZXR0ZXJzOiB7CiAgICAgIHNvcnRlZEZyYW1lczogZnVuY3Rpb24gc29ydGVkRnJhbWVzKHN0YXRlKSB7CiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oc3RhdGUuZnJhbWVzLnZhbHVlcygpKTsKICAgICAgfSwKICAgICAgc29ydGVkTWF0czogZnVuY3Rpb24gc29ydGVkTWF0cyhzdGF0ZSkgewogICAgICAgIHJldHVybiBBcnJheS5mcm9tKHN0YXRlLm1hdHMudmFsdWVzKCkpOwogICAgICB9LAogICAgICBzb3J0ZWREZXN0aW5hdGlvbnM6IGZ1bmN0aW9uIHNvcnRlZERlc3RpbmF0aW9ucyhzdGF0ZSkgewogICAgICAgIHJldHVybiBBcnJheS5mcm9tKHN0YXRlLmRlc3RpbmF0aW9ucy52YWx1ZXMoKSk7CiAgICAgIH0sCiAgICAgIGNhcnRJc0VtcHR5OiBmdW5jdGlvbiBjYXJ0SXNFbXB0eShzdGF0ZSkgewogICAgICAgIHJldHVybiBzdGF0ZS5jYXJ0Lmxlbmd0aCA9PSAwOwogICAgICB9LAogICAgICBjYXJ0VG90YWw6IGZ1bmN0aW9uIGNhcnRUb3RhbChzdGF0ZSkgewogICAgICAgIHZhciB0b3RhbCA9IDA7CgogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzdGF0ZS5jYXJ0KSwKICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICB0b3RhbCArPSBpdGVtLnByaWNlOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0b3RhbDsKICAgICAgfQogICAgfSwKICAgIG11dGF0aW9uczogewogICAgICBzZXRGcmFtZXM6IGZ1bmN0aW9uIHNldEZyYW1lcyhzdGF0ZSwgZnJhbWVzKSB7CiAgICAgICAgc3RhdGUuZnJhbWVzID0gZnJhbWVzOwogICAgICB9LAogICAgICBzZXRNYXRzOiBmdW5jdGlvbiBzZXRNYXRzKHN0YXRlLCBtYXRzKSB7CiAgICAgICAgc3RhdGUubWF0cyA9IG1hdHM7CiAgICAgIH0sCiAgICAgIHNldERlc3RpbmF0aW9uczogZnVuY3Rpb24gc2V0RGVzdGluYXRpb25zKHN0YXRlLCBkZXN0aW5hdGlvbnMpIHsKICAgICAgICBzdGF0ZS5kZXN0aW5hdGlvbnMgPSBkZXN0aW5hdGlvbnM7CiAgICAgIH0sCiAgICAgIHNldENhcnQ6IGZ1bmN0aW9uIHNldENhcnQoc3RhdGUsIGNhcnQpIHsKICAgICAgICBzdGF0ZS5jYXJ0ID0gY2FydDsKICAgICAgfQogICAgfSwKICAgIGFjdGlvbnM6IHsKICAgICAgbG9hZEZyYW1lczogZnVuY3Rpb24gbG9hZEZyYW1lcyhjb250ZXh0KSB7CiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgIHZhciBmcmFtZXNMaXN0LCBmcmFtZXMsIF9pdGVyYXRvcjIsIF9zdGVwMiwgZnJhbWU7CgogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIEFydG1hcnRTZXJ2aWNlLmdldEZyYW1lcygpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgZnJhbWVzTGlzdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgIGZyYW1lcyA9IG5ldyBNYXAoKTsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGZyYW1lc0xpc3QpOwoKICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICBmcmFtZXMuc2V0KGZyYW1lLnN0eWxlLCBmcmFtZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ3NldEZyYW1lcycsIGZyYW1lcyk7CgogICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKSgpOwogICAgICB9LAogICAgICBsb2FkTWF0czogZnVuY3Rpb24gbG9hZE1hdHMoY29udGV4dCkgewogICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgICAgdmFyIG1hdHNMaXN0LCBtYXRzLCBfaXRlcmF0b3IzLCBfc3RlcDMsIG1hdDsKCiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIHJldHVybiBBcnRtYXJ0U2VydmljZS5nZXRNYXRzKCk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBtYXRzTGlzdCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgICBtYXRzID0gbmV3IE1hcCgpOwogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobWF0c0xpc3QpOwoKICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgbWF0ID0gX3N0ZXAzLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgbWF0cy5zZXQobWF0LmNvbG9yLCBtYXQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRNYXRzJywgbWF0cyk7CgogICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpKCk7CiAgICAgIH0sCiAgICAgIGxvYWREZXN0aW5hdGlvbnM6IGZ1bmN0aW9uIGxvYWREZXN0aW5hdGlvbnMoY29udGV4dCkgewogICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgICAgdmFyIF9zaGlwcGluZyRkZXN0aW5hdGlvbjsKCiAgICAgICAgICB2YXIgc2hpcHBpbmcsIGRlc3RpbmF0aW9uc0xpc3QsIGRlc3RpbmF0aW9ucywgX2l0ZXJhdG9yNCwgX3N0ZXA0LCBkZXN0aW5hdGlvbjsKCiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIHJldHVybiBBcnRtYXJ0U2VydmljZS5nZXRTaGlwcGluZygpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgc2hpcHBpbmcgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25zTGlzdCA9IChfc2hpcHBpbmckZGVzdGluYXRpb24gPSBzaGlwcGluZy5kZXN0aW5hdGlvbnMpICE9PSBudWxsICYmIF9zaGlwcGluZyRkZXN0aW5hdGlvbiAhPT0gdm9pZCAwID8gX3NoaXBwaW5nJGRlc3RpbmF0aW9uIDogW107CiAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9ucyA9IG5ldyBNYXAoKTsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGRlc3RpbmF0aW9uc0xpc3QpOwoKICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24gPSBfc3RlcDQudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbnMuc2V0KGRlc3RpbmF0aW9uLmNvdW50cnksIGRlc3RpbmF0aW9uKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0RGVzdGluYXRpb25zJywgZGVzdGluYXRpb25zKTsKCiAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICB9KSkoKTsKICAgICAgfSwKICAgICAgbG9hZENhcnQ6IGZ1bmN0aW9uIGxvYWRDYXJ0KGNvbnRleHQpIHsKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICAgIHZhciBjYXJ0OwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICByZXR1cm4gQXJ0bWFydFNlcnZpY2UuZ2V0Q2FydCgpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgY2FydCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0Q2FydCcsIGNhcnQucmV2ZXJzZSgpKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgICB9KSkoKTsKICAgICAgfSwKICAgICAgYWRkVG9DYXJ0OiBmdW5jdGlvbiBhZGRUb0NhcnQoY29udGV4dCwgcHJvZHVjdCkgewogICAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgICAgdmFyIG9rOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICByZXR1cm4gQXJ0bWFydFNlcnZpY2UuYWRkVG9DYXJ0KHByb2R1Y3QpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgb2sgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5kaXNwYXRjaCgnbG9hZENhcnQnKTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBvayk7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgICAgfSkpKCk7CiAgICAgIH0sCiAgICAgIHJlbW92ZUZyb21DYXJ0OiBmdW5jdGlvbiByZW1vdmVGcm9tQ2FydChjb250ZXh0LCBjYXJ0SXRlbUlkKSB7CiAgICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgICB2YXIgb2s7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIHJldHVybiBBcnRtYXJ0U2VydmljZS5kZWxldGVDYXJ0SXRlbShjYXJ0SXRlbUlkKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIG9rID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlzcGF0Y2goJ2xvYWRDYXJ0Jyk7CgogICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgb2spOwoKICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICAgIH0pKSgpOwogICAgICB9CiAgICB9CiAgfSk7Cn0="},{"version":3,"sources":["/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/src/store.js"],"names":["Vuex","ArtmartService","buildStore","Store","state","frames","mats","destinations","cart","getters","sortedFrames","Array","from","values","sortedMats","sortedDestinations","cartIsEmpty","length","cartTotal","total","item","price","mutations","setFrames","setMats","setDestinations","setCart","actions","loadFrames","context","getFrames","framesList","Map","frame","set","style","commit","loadMats","getMats","matsList","mat","color","loadDestinations","getShipping","shipping","destinationsList","destination","country","loadCart","getCart","reverse","addToCart","product","ok","dispatch","removeFromCart","cartItemId","deleteCartItem"],"mappings":"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","sourcesContent":["import Vuex from \"vuex\";\nimport * as ArtmartService from \"@/services/ArtmartService\";\n\nexport default function buildStore() {\n  return new Vuex.Store({\n    state: {\n      frames: null,       // Map: style -> frame { style, label, slice, cost }\n      mats: null,         // Map: color -> mat { color, label, hex }\n      destinations: null, // Map: country -> destination { country, displayName, cost }\n      cart: []            // Array of cart items\n    },\n    getters: {\n      sortedFrames: state => {\n        return Array.from(state.frames.values())\n      },\n      sortedMats: state => {\n        return Array.from(state.mats.values())\n      },\n      sortedDestinations: state => {\n        return Array.from(state.destinations.values())\n      },\n      cartIsEmpty: state => {\n        return state.cart.length == 0\n      },\n      cartTotal: state => {\n        let total = 0;\n        for (const item of state.cart) {\n          total += item.price;\n        }\n        return total;\n      }\n    },\n    mutations: {\n      setFrames(state, frames) {\n        state.frames = frames\n      },\n      setMats(state, mats) {\n        state.mats = mats\n      },\n      setDestinations(state, destinations) {\n        state.destinations = destinations\n      },\n      setCart(state, cart) {\n        state.cart = cart\n      }\n    },\n    actions: {\n      async loadFrames(context) {\n        const framesList = await ArtmartService.getFrames();\n        const frames = new Map();\n        for (const frame of framesList) {\n          frames.set(frame.style, frame);\n        }\n        context.commit('setFrames', frames)\n      },\n      async loadMats(context) {\n        const matsList = await ArtmartService.getMats();\n        const mats = new Map();\n        for (const mat of matsList) {\n          mats.set(mat.color, mat);\n        }\n        context.commit('setMats', mats)\n      },\n      async loadDestinations(context) {\n        const shipping = await ArtmartService.getShipping();\n        const destinationsList = shipping.destinations ?? [];\n        const destinations = new Map();\n        for (const destination of destinationsList) {\n          destinations.set(destination.country, destination);\n        }\n        context.commit('setDestinations', destinations);\n      },\n      async loadCart(context) {\n        const cart = await ArtmartService.getCart()\n        context.commit('setCart', cart.reverse())\n      },\n      async addToCart(context, product) {\n        const ok = await ArtmartService.addToCart(product)\n        await context.dispatch('loadCart')\n        return ok\n      },\n      async removeFromCart(context, cartItemId) {\n        const ok = await ArtmartService.deleteCartItem(cartItemId)\n        await context.dispatch('loadCart')\n        return ok\n      }\n    }\n  })\n}\n"]}]}