{"remainingRequest":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/babel-loader/lib/index.js!/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/src/components/FramedArtwork.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/src/components/FramedArtwork.vue","mtime":1607793312907},{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/karton/Documents/projects/CV_GITHUB/a4-group-62/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiL1VzZXJzL2thcnRvbi9Eb2N1bWVudHMvcHJvamVjdHMvQ1ZfR0lUSFVCL2E0LWdyb3VwLTYyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJGcmFtZWRBcnR3b3JrIiwKICBwcm9wczogewogICAgYXJ0d29yazogewogICAgICBpbWFnZTogU3RyaW5nLAogICAgICB0aXRsZTogU3RyaW5nCiAgICB9LAogICAgY29uZmlnOiB7CiAgICAgIHByaW50U2l6ZTogU3RyaW5nLAogICAgICBmcmFtZVN0eWxlOiBTdHJpbmcsCiAgICAgIG1hdENvbG9yOiBTdHJpbmcKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcmludFNpemVzOiB7CiAgICAgICAgUzogWzAsIDBdLAogICAgICAgIE06IFswLCAwXSwKICAgICAgICBMOiBbMCwgMF0KICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmcmFtZTogZnVuY3Rpb24gZnJhbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5mcmFtZXMuZ2V0KHRoaXMuY29uZmlnLmZyYW1lU3R5bGUpOwogICAgfSwKICAgIG1hdDogZnVuY3Rpb24gbWF0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubWF0cy5nZXQodGhpcy5jb25maWcubWF0Q29sb3IpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGNvbmZpZzogewogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMucmVuZGVyUHJldmlldygpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkltYWdlTG9hZDogZnVuY3Rpb24gb25JbWFnZUxvYWQoKSB7CiAgICAgIHRoaXMuY2FsY3VsYXRlUHJpbnRTaXplcygpOwogICAgICB0aGlzLnJlbmRlclByZXZpZXcoKTsKICAgIH0sCiAgICBjYWxjdWxhdGVQcmludFNpemVzOiBmdW5jdGlvbiBjYWxjdWxhdGVQcmludFNpemVzKCkgewogICAgICB2YXIgaW1nID0gdGhpcy4kcmVmcy5wcmV2aWV3SW1hZ2U7CiAgICAgIHZhciB3ID0gaW1nLm5hdHVyYWxXaWR0aDsKICAgICAgdmFyIGggPSBpbWcubmF0dXJhbEhlaWdodDsKICAgICAgdmFyIFMgPSBbMjk3LCAyOTddOyAvLyBBNAoKICAgICAgdmFyIE0gPSBbNDIwLCA0MjBdOyAvLyBBMwoKICAgICAgdmFyIEwgPSBbNTk0LCA1OTRdOyAvLyBBMgoKICAgICAgaWYgKGggPiB3KSB7CiAgICAgICAgU1swXSA9IE1hdGguZmxvb3IodyAqIFNbMV0gLyBoKTsKICAgICAgICBNWzBdID0gTWF0aC5mbG9vcih3ICogTVsxXSAvIGgpOwogICAgICAgIExbMF0gPSBNYXRoLmZsb29yKHcgKiBMWzFdIC8gaCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgU1sxXSA9IE1hdGguZmxvb3IoaCAqIFNbMF0gLyB3KTsKICAgICAgICBNWzFdID0gTWF0aC5mbG9vcihoICogTVswXSAvIHcpOwogICAgICAgIExbMV0gPSBNYXRoLmZsb29yKGggKiBMWzBdIC8gdyk7CiAgICAgIH0KCiAgICAgIHRoaXMucHJpbnRTaXplcyA9IHsKICAgICAgICBTOiBTLAogICAgICAgIE06IE0sCiAgICAgICAgTDogTAogICAgICB9OwogICAgICB0aGlzLiRlbWl0KCJwcmludC1zaXplcyIsIHRoaXMucHJpbnRTaXplcyk7CiAgICB9LAogICAgcmVuZGVyUHJldmlldzogZnVuY3Rpb24gcmVuZGVyUHJldmlldygpIHsKICAgICAgdmFyIGltZyA9IHRoaXMuJHJlZnMucHJldmlld0ltYWdlOwogICAgICB2YXIgY29udGFpbmVyID0gaW1nLnBhcmVudE5vZGU7CgogICAgICB2YXIgX3RoaXMkcHJpbnRTaXplcyR0aGlzID0gX3NsaWNlZFRvQXJyYXkodGhpcy5wcmludFNpemVzW3RoaXMuY29uZmlnLnByaW50U2l6ZV0sIDIpLAogICAgICAgICAgdyA9IF90aGlzJHByaW50U2l6ZXMkdGhpc1swXSwKICAgICAgICAgIGggPSBfdGhpcyRwcmludFNpemVzJHRoaXNbMV07CgogICAgICB2YXIgbWF0V2lkdGggPSB0aGlzLmNvbmZpZy5tYXRXaWR0aDsKICAgICAgdmFyIGZyYW1lV2lkdGggPSB0aGlzLmNvbmZpZy5mcmFtZVdpZHRoOwogICAgICB2YXIgeDsKCiAgICAgIGlmICh3ID4gaCkgewogICAgICAgIHggPSBjb250YWluZXIub2Zmc2V0V2lkdGggLyAodyArIDIgKiBtYXRXaWR0aCArIDIgKiBmcmFtZVdpZHRoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB4ID0gY29udGFpbmVyLm9mZnNldEhlaWdodCAvIChoICsgMiAqIG1hdFdpZHRoICsgMiAqIGZyYW1lV2lkdGgpOwogICAgICB9CgogICAgICBpbWcuc3R5bGUuYm94U2l6aW5nID0gImJvcmRlci1ib3giOwogICAgICBpbWcud2lkdGggPSAodyArIDIgKiBtYXRXaWR0aCArIDIgKiBmcmFtZVdpZHRoKSAqIHg7CiAgICAgIGltZy5oZWlnaHQgPSAoaCArIDIgKiBtYXRXaWR0aCArIDIgKiBmcmFtZVdpZHRoKSAqIHg7CiAgICAgIGltZy5zdHlsZS5ib3JkZXJJbWFnZVNvdXJjZSA9ICJ1cmwoIi5jb25jYXQodGhpcy5mcmFtZS5ib3JkZXJJbWFnZSk7CiAgICAgIGltZy5zdHlsZS5ib3JkZXJJbWFnZVNsaWNlID0gdGhpcy5mcmFtZS5zbGljZTsKICAgICAgaW1nLnN0eWxlLmJvcmRlcldpZHRoID0gIiIuY29uY2F0KGZyYW1lV2lkdGggKiB4LCAicHgiKTsKICAgICAgaW1nLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMubWF0LmhleDsKICAgICAgaW1nLnN0eWxlLnBhZGRpbmcgPSAiIi5jb25jYXQobWF0V2lkdGggKiB4LCAicHgiKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["FramedArtwork.vue"],"names":[],"mappings":"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","sourcesContent":["<template slot=\"framed-artwork\">\n  <img :src=\"artwork.image\" alt=\"artwork.title\" ref=\"previewImage\" @load=\"onImageLoad\" />\n</template>\n\n<script>\nexport default {\n  name: \"FramedArtwork\",\n  props: {\n    artwork: {\n      image: String,\n      title: String\n    },\n    config: {\n      printSize: String,\n      frameStyle: String,\n      matColor: String\n    }\n  },\n  data() {\n    return {\n      printSizes: { S: [0, 0], M: [0, 0], L: [0, 0] }\n    };\n  },\n  computed: {\n    frame() {\n      return this.$store.state.frames.get(this.config.frameStyle);\n    },\n    mat() {\n      return this.$store.state.mats.get(this.config.matColor);\n    }\n  },\n  watch: {\n    config: {\n      deep: true,\n      handler() {\n        this.renderPreview();\n      }\n    }\n  },\n  methods: {\n    onImageLoad() {\n      this.calculatePrintSizes();\n      this.renderPreview();\n    },\n    calculatePrintSizes() {\n      const img = this.$refs.previewImage;\n      const w = img.naturalWidth;\n      const h = img.naturalHeight;\n\n      let S = [297, 297]; // A4\n      let M = [420, 420]; // A3\n      let L = [594, 594]; // A2\n\n      if (h > w) {\n        S[0] = Math.floor((w * S[1]) / h);\n        M[0] = Math.floor((w * M[1]) / h);\n        L[0] = Math.floor((w * L[1]) / h);\n      } else {\n        S[1] = Math.floor((h * S[0]) / w);\n        M[1] = Math.floor((h * M[0]) / w);\n        L[1] = Math.floor((h * L[0]) / w);\n      }\n\n      this.printSizes = { S, M, L };\n      this.$emit(\"print-sizes\", this.printSizes);\n    },\n    renderPreview() {\n      const img = this.$refs.previewImage;\n      const container = img.parentNode;\n\n      const [w, h] = this.printSizes[this.config.printSize];\n      const matWidth = this.config.matWidth;\n      const frameWidth = this.config.frameWidth;\n\n      let x;\n      if (w > h) {\n        x = container.offsetWidth / (w + 2 * matWidth + 2 * frameWidth);\n      } else {\n        x = container.offsetHeight / (h + 2 * matWidth + 2 * frameWidth);\n      }\n\n      img.style.boxSizing = \"border-box\";\n      img.width = (w + 2 * matWidth + 2 * frameWidth) * x;\n      img.height = (h + 2 * matWidth + 2 * frameWidth) * x;\n      img.style.borderImageSource = `url(${this.frame.borderImage}`;\n      img.style.borderImageSlice = this.frame.slice;\n      img.style.borderWidth = `${frameWidth * x}px`;\n      img.style.backgroundColor = this.mat.hex;\n      img.style.padding = `${matWidth * x}px`;\n    }\n  }\n};\n</script>\n\n<style scoped>\nimg {\n  border: 0px solid black; /* necessary for Chrome & Firefox */\n}\n</style>\n"],"sourceRoot":"src/components"}]}